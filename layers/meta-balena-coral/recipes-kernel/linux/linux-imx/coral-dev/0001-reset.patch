From 23e10f79708b87d66dcc2a24297f56f6828247cb Mon Sep 17 00:00:00 2001
From: Alexandru Costache <alexandru@balena.io>
Date: Wed, 8 Jul 2020 13:18:56 +0200
Subject: [PATCH] reset

---
 .../arm64/boot/dts/freescale/fsl-imx8mq-phanbell.dts | 12 ++++++++++++
 arch/arm64/boot/dts/freescale/fsl-imx8mq.dtsi        |  2 ++
 2 files changed, 14 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8mq-phanbell.dts b/arch/arm64/boot/dts/freescale/fsl-imx8mq-phanbell.dts
index 8896a166d56b..dc0495381ac8 100644
--- a/arch/arm64/boot/dts/freescale/fsl-imx8mq-phanbell.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8mq-phanbell.dts
@@ -70,6 +70,18 @@
 		google,model = "edgetpu-audio-card";
 		status = "okay";
 	};
+
+        gpio-keys {
+                compatible = "gpio-keys";
+
+                back {
+                        label = "wakeup gpio";
+                        gpios = <&gpio3 13 GPIO_ACTIVE_LOW>;
+                        linux,code = <KEY_WAKEUP>;
+			wakeup-source;
+                };
+        };
+
 };
 
 &iomuxc {
diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8mq.dtsi b/arch/arm64/boot/dts/freescale/fsl-imx8mq.dtsi
index b560bec57402..c339c16c7200 100755
--- a/arch/arm64/boot/dts/freescale/fsl-imx8mq.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8mq.dtsi
@@ -316,6 +316,7 @@
 		#gpio-cells = <2>;
 		interrupt-controller;
 		#interrupt-cells = <2>;
+		pade-wakeup-num = <1>;
 	};
 
 	gpio2: gpio@30210000 {
@@ -338,6 +339,7 @@
 		#gpio-cells = <2>;
 		interrupt-controller;
 		#interrupt-cells = <2>;
+                pad-wakeup = <160 4 13>;
 	};
 
 	gpio4: gpio@30230000 {
-- 
2.17.1

